{"version":3,"sources":["../../src/models/User.Agent.js"],"names":["Schema","options","discriminatorKey","AgentSchema","Players","type","Types","ObjectId","ref","required","deletedPlayers","email","String","AgentClass","isoWeek","weekNum","loadClass","Agent","discriminator"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;AACA,IAAMA,SAAS,mBAASA,MAAxB;;AAEA,IAAMC,UAAU,EAAEC,kBAAkB,MAApB,EAAhB;;AAEA,IAAMC,cAAc,IAAIH,MAAJ,CAAW;AAC9BI,UAAS,CAAC,EAAEC,MAAML,OAAOM,KAAP,CAAaC,QAArB,EAA+BC,KAAK,MAApC,EAA4CC,UAAU,IAAtD,EAAD,CADqB;AAE9BC,iBAAgB,CAAC,EAAEL,MAAML,OAAOM,KAAP,CAAaC,QAArB,EAA+BC,KAAK,MAApC,EAAD,CAFc;AAG9BG,QAAO,EAAEN,MAAMO,MAAR;AAHuB,CAAX,EAIjBX,OAJiB,CAApB;;IAMMY,U;;;;;;;sBACa;AACjB,UAAO,wBAASC,OAAT,OAAuB,KAAKC,OAAnC;AACA;;;;;;AAGFZ,YAAYa,SAAZ,CAAsBH,UAAtB;;AAEA,IAAMI,QAAQ,eAAKC,aAAL,CAAmB,OAAnB,EAA4Bf,WAA5B,CAAd;;kBAEec,K","file":"User.Agent.js","sourcesContent":["import User from './User';\nimport moment from 'moment';\nimport mongoose from 'mongoose';\nconst Schema = mongoose.Schema;\n\nconst options = { discriminatorKey: 'role' };\n\nconst AgentSchema = new Schema({ \n\tPlayers: [{ type: Schema.Types.ObjectId, ref: 'User', required: true }],\n\tdeletedPlayers: [{ type: Schema.Types.ObjectId, ref: 'User' }],\n\temail: { type: String }\n}, options );\n\nclass AgentClass { \n\tget isBonusWeek() { \n\t\treturn moment().isoWeek() === this.weekNum;\n\t} \n}\n\nAgentSchema.loadClass(AgentClass);\n\nconst Agent = User.discriminator('Agent', AgentSchema);\n\nexport default Agent;"]}