{"version":3,"sources":["../../../../src/graphql/resolvers/BetOrder/index.js"],"names":["Query","betOrder","root","req","BetOrder","findOne","_id","Types","ObjectId","populate","path","select","betOrders","ctx","Player","isClosed","startOfWeekNum","endOfWeekNum","query","sortByDate","user","role","merge","Agent","isNumber","Error","$gte","add","Number","startOf","$lte","endOf","find","sort","betOrdersOverview","picks","flatten","map","Picks","pick","activePlayers","uniq","toString","length","resultAmount","reduce","sum","totalAtRisk","atRisk","bet","totalToWin","toWin","totalBets","overview","action","straight","Won","status","Lost","Push","Pending","parlay","basicTeaser","specialTeaser","bigTeaser","superTeaser","winReverse","actionReverse","odd","MLine","oddType","marked","Spread","Total","Draw","sport","Basketball","Event","Football","Baseball","Soccer","Hockey","Fighting","ESports"],"mappings":"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","file":"index.js","sourcesContent":["import mongoose from 'mongoose';\nimport BetOrder from '../../../models/BetOrder';\nimport moment from 'moment';\nimport _ from 'lodash';\n\nexport const Query = {\n\tasync betOrder(root, req){\n\t\tif(!req.BetOrder) return null;\n\t\treturn BetOrder.findOne({ _id: mongoose.Types.ObjectId(req.BetOrder) })\n\t\t\t.populate({ path: 'Picks', populate: { path: 'Event' } })\n\t\t\t.populate({ path: 'Player', select: 'username nickname'});\n\t},\n\tasync betOrders(root, { Player, isClosed, startOfWeekNum, endOfWeekNum }, ctx){\n\t\tlet query = { isClosed: isClosed };\n\t\tlet sortByDate = isClosed ? 'updatedAt' : 'createdAt';\n\t\tif(ctx.user.role === 'Agent'){ query = Player === '' ? _.merge(query, { Agent: mongoose.Types.ObjectId(ctx.user._id) }) : _.merge(query, { Player: mongoose.Types.ObjectId(Player) }); }\n\t\tif(ctx.user.role === 'Player'){ query = _.merge(query, { Player: mongoose.Types.ObjectId(ctx.user._id) });}\n\t\tif(isClosed){\n\t\t\tif(!_.isNumber(startOfWeekNum)) throw new Error('Missing Start Of Week Num');\n\t\t\tif(!_.isNumber(endOfWeekNum)) throw new Error('Missing End Of Week Num');\n\t\t\tquery = _.merge(query, { [sortByDate]: {$gte: moment().add(Number(startOfWeekNum), 'w').startOf('isoWeek'), $lte: moment().add(Number(endOfWeekNum), 'w').endOf('isoWeek') }});\n\t\t}\n\t\treturn BetOrder.find(query).populate({ path: 'Player', select: 'username nickname'}).sort({ [sortByDate]: 'descending' });\n\t},\n\tasync betOrdersOverview(root, { Player, isClosed, startOfWeekNum, endOfWeekNum }, ctx){\n\t\tlet query = { isClosed: isClosed };\n\t\tlet sortByDate = isClosed ? 'updatedAt' : 'createdAt';\n\t\tif(ctx.user.role === 'Agent'){ query = Player === '' ? _.merge(query, { Agent: mongoose.Types.ObjectId(ctx.user._id) }) : _.merge(query, { Player: mongoose.Types.ObjectId(Player) }); }\n\t\tif(ctx.user.role === 'Player'){ query = _.merge(query, { Player: mongoose.Types.ObjectId(ctx.user._id) });}\n\t\tif(isClosed){\n\t\t\tif(!_.isNumber(startOfWeekNum)) throw new Error('Missing Start Of Week Num');\n\t\t\tif(!_.isNumber(endOfWeekNum)) throw new Error('Missing End Of Week Num');\n\t\t\tquery = _.merge(query, { [sortByDate]: {$gte: moment().add(Number(startOfWeekNum), 'w').startOf('isoWeek'), $lte: moment().add(Number(endOfWeekNum), 'w').endOf('isoWeek') }});\n\t\t}\n\t\tconst betOrders = await BetOrder.find(query).populate({path: 'Picks', populate: { path: 'Event' }});\n\t\tconst picks = _.flatten(betOrders.map(betOrder => betOrder.Picks.map(pick => pick)));\n\n\t\t//\t\tconst picks = await Pick.find(query).populate('Event')\n\t\treturn {\n\t\t\tactivePlayers: _.uniq(betOrders.map(betOrder => betOrder.Player.toString())).length,\n\t\t\tresultAmount: isClosed ? betOrders.reduce((sum, { resultAmount }) => sum + resultAmount, 0) : null,\n\t\t\ttotalAtRisk: betOrders.reduce((sum, { bet: { atRisk } }) => sum + atRisk, 0),\n\t\t\ttotalToWin: betOrders.reduce((sum, { bet: { toWin } }) => sum + toWin, 0),\n\t\t\ttotalBets: betOrders.length,\n\t\t\toverview: {\n\t\t\t\taction: {\n\t\t\t\t\tstraight: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'straight' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'straight' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'straight' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'straight' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tparlay: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'parlay' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'parlay' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'parlay' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'parlay' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tbasicTeaser: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'basicTeaser' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'basicTeaser' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'basicTeaser' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'basicTeaser' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tspecialTeaser: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'specialTeaser' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'specialTeaser' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'specialTeaser' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'specialTeaser' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tbigTeaser: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'bigTeaser' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'bigTeaser' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'bigTeaser' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'bigTeaser' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tsuperTeaser: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'superTeaser' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'superTeaser' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'superTeaser' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'superTeaser' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\twinReverse: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'winReverse' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'winReverse' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'winReverse' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'winReverse' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tactionReverse: {\n\t\t\t\t\t\tWon: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'actionReverse' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'actionReverse' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'actionReverse' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: betOrders.reduce((sum, { status, bet: { action } }) => sum + (action === 'actionReverse' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\todd: {\n\t\t\t\t\tMLine: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'MLine' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'MLine' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'MLine' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'MLine' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tSpread: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Spread' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Spread' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Spread' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, marked: { oddType } }) => sum + (oddType === 'Spread' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tTotal: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Total' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Total' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Total' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, marked: { oddType } }) => sum + (oddType === 'Total' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tDraw: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Draw' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Draw' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, marked: { oddType } }) => sum + ( oddType === 'Draw' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, marked: { oddType } }) => sum + (oddType === 'Draw' && status === 'Pending' ), 0),\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsport: {\n\t\t\t\t\tBasketball: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Basketball' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Basketball' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Basketball' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, Event: { sport } }) => sum + (sport === 'Basketball' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tFootball: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Football' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Football' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Football' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, Event: { sport } }) => sum + (sport === 'Football' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tBaseball: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Baseball' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Baseball' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Baseball' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, Event: { sport } }) => sum + (sport === 'Baseball' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tSoccer: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Soccer' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Soccer' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Soccer' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, Event: { sport } }) => sum + (sport === 'Soccer' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tHockey: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Hockey' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Hockey' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Hockey' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, Event: { sport } }) => sum + (sport === 'Hockey' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tFighting: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Fighting' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Fighting' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'Fighting' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, Event: { sport } }) => sum + (sport === 'Fighting' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t\tESports: {\n\t\t\t\t\t\tWon: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'ESports' && status === 'Won' ), 0),\n\t\t\t\t\t\tLost: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'ESports' && status === 'Lost' ), 0),\n\t\t\t\t\t\tPush: picks.reduce((sum, { status, Event: { sport } }) => sum + ( sport === 'ESports' && status === 'Push' ), 0),\n\t\t\t\t\t\tPending: picks.reduce((sum, { status, Event: { sport } }) => sum + (sport === 'ESports' && status === 'Pending' ), 0),\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t},\n};\n"]}